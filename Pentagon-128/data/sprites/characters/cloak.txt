Человек в плаще (2*5)

Cписок спрайтов:
cloaki*.bmp - инвертированные по горизонтали (повёрнуты лицом ВПРАВО) спрайты

Спрайты повёрнуты лицом ВЛЕВО
cloak_m.bmp - Mask1
cloak_m2.bmp - Mask2

cloak_f1.bmp - Frame 1
cloak_f2.bmp - Frame 2
cloak_f4.bmp - Frame 4
cloak_f6.bmp - Frame 6

Анимация походки: (Mask1:) Frame 1 (delay 11), Frame 2 (delay 15), Frame 1 (delay 11), Frame 4 (delay 12) (тут разные задержки у кадров!) - зациклено.

Анимация раскрытия плаща: (Mask1:) Frame 1 (delay 12), (Mask2:) Frame 6 (delay 100).

Должен рисоваться поверх других персонажей и поверх Боба. (ходит только по самому низу экрана)

Появляется на локациях: map02 или map03 или map04 по выбору генератора случайных чисел (один раз на одной из этих локациях за всю игру) в начале игры в местах, специально для этого предназначенных на каждой карте.

Если Боб заходит на уровень, где должен быть Человек в плаще и если Человек в плаще находится НЕ в тени от фонаря (после того, как тень пропадает, в которой находится Человек в плаще, он должен выполнять действия, описанные в этой строке), то Человек в плаще идёт в левую сторону уровня и уходит за его пределы (вверх и вниз Человек не ходит). Человек в плаще должен в итоге уйти за пределы первого уровня (map01) и исчезнуть.
Если Человек в плаще подходит вплотную к Бобу (см. BobWithCloackCollision.png), то ОСТАНОВИТЬ Человека в плаще и показать Анимацию раскрытия плаща, (если Боб в этот момент - до того, как пройдёт 20 циклов обновления экрана, НЕ повернётся влево, то это отнимает у Боба одну жизнь), затем убрать плащь и пойти дальше влево.
Если Боб подходит к уходящему (влево) Человеку в плаще справа (сзади) вплотную (по аналогии с BobWithCloackCollision.png), то Человек в плаще разворачивается направо (показываются инвертированный по горизонтали спрайты) и запускается Анимация раскрытия плаща, и если Боб не успел развернуться вправо (до того, как пройдёт 20 циклов обновления экрана), это отнимает у Боба одну жизнь (счётчик жизней минус одна). Человек стоит так 2 секунды, затем снова идёт влево.

